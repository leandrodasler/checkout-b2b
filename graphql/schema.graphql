scalar CostCenter
scalar InvoiceData
scalar CostCenterDeliveryOptions
scalar UpdatedOrderForm

type SavedCart {
  id: ID!
  createdIn: String!
  lastInteractionIn: String!
  title: String!
  email: String!
  orderFormId: String!
  organizationId: String!
  costCenterId: String!
  data: String!
  parentCartId: String
  childrenQuantity: Int
}

type RepresentativeBalanceSettings {
  enabled: Boolean!
  openingBalance: Float
  allowNegativeBalance: Boolean!
}

type AppSettings {
  salesRepresentative: Int!
  salesManager: Int!
  salesAdmin: Int!
  rolesAllowedToSeeMargin: [String]!
  representativeBalance: RepresentativeBalanceSettings!
}

type B2BOrder {
  costId: String!
  costCenterName: String!
  orderGroup: String!
  value: Float!
}

input ItemsUpdatePriceInput {
  index: Int!
  price: Int!
}

type RepresentativeBalance {
  id: ID!
  email: String!
  balance: Float!
  createdIn: String!
  lastInteractionIn: String!
}

type Query {
  getCart(id: ID!): SavedCart

  getSavedCarts(parentCartId: ID): [SavedCart!]!

  getAppSettings: AppSettings!

  getRepresentativeBalances: [RepresentativeBalance]!

  getRepresentativeBalanceByEmail(email: String): RepresentativeBalance
}

type Mutation {
  saveCart(
    id: ID
    title: String
    additionalData: String
    parentCartId: String
  ): SavedCart!

  deleteCart(id: ID): ID

  placeOrder(
    poNumber: String
    invoiceData: InvoiceData
    selectedCostCenters: [CostCenter!]!
    defaultCostCenter: CostCenter!
    deliveryOptionsByCostCenter: CostCenterDeliveryOptions!
  ): [B2BOrder!]!

  updatePrices(items: [ItemsUpdatePriceInput]!): UpdatedOrderForm!

  saveRepresentativeBalance(
    email: String
    balance: Float!
    orderGroup: String!
    overwrite: Boolean
  ): RepresentativeBalance!

  saveRepresentativeBalanceSettings(
    enabled: Boolean!
    openingBalance: Float
  ): RepresentativeBalanceSettings!
}
